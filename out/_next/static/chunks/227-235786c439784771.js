"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[227],{283:(e,r,t)=>{t.d(r,{A:()=>o}),t(5155);var a=t(2115);t(9323),t(6104);let n=(0,a.createContext)({user:null,userRole:null,loading:!0,isAdmin:!1,error:null}),o=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},1007:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2657:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4229:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(9946).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},5525:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(9946).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},6104:(e,r,t)=>{t.d(r,{Gg:()=>y,IG:()=>d,db:()=>l,j2:()=>f});var a=t(3915),n=t(1906),o=t(5317),i=t(7505),s=t(4903);let c={apiKey:"AIzaSyBYQA66rKOPrb4kce-hYCTYAbGKanVGbZ8",authDomain:"mirrorsbeautylounge-7c5ff.firebaseapp.com",projectId:"mirrorsbeautylounge-7c5ff",storageBucket:"mirrorsbeautylounge-7c5ff.firebasestorage.app",messagingSenderId:"1029530532506",appId:"1:1029530532506:web:2fa18cc521b2524e5afd23",measurementId:"G-GMWQSDP9JW"},u=null,l=null,d=null,f=null;function y(){return null!==u}!0;try{u=(0,a.initializeApp)(c),l=(0,o.aU)(u),d=(0,i.c7)(u),f=(0,s.getAuth)(u);try{(0,n.P5)(u)}catch(e){console.warn("Firebase Analytics initialization failed:",e)}}catch(e){console.error("Firebase initialization failed:",e),f=null}},7951:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(9946).A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},8749:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9323:(e,r,t)=>{t.d(r,{eg:()=>i,ej:()=>s,nW:()=>u,yN:()=>l});var a=t(4903),n=t(5317),o=t(6104);let i=async e=>{try{if(!o.j2)return{error:"Firebase auth is not initialized"};if(o.j2.currentUser){if(await (0,a.updateProfile)(o.j2.currentUser,{displayName:e}),!o.db)throw Error("Firestore is not initialized");let r=(0,n.H9)(o.db,"users",o.j2.currentUser.uid);await (0,n.mZ)(r,{displayName:e,updatedAt:new Date})}return{error:null}}catch(e){return console.error("Error updating profile:",e),{error:e instanceof Error?e.message:"Unknown error"}}},s=async e=>{try{if(!o.j2)return{error:"Firebase auth is not initialized"};return o.j2.currentUser&&await (0,a.f3)(o.j2.currentUser,e),{error:null}}catch(e){return console.error("Error updating password:",e),{error:e instanceof Error?e.message:"Unknown error"}}},c=async(e,r,t,a)=>{try{let i={uid:e,email:r,displayName:a,role:t,createdAt:new Date,updatedAt:new Date};if(!o.db)throw Error("Firestore is not initialized");return await (0,n.BN)((0,n.H9)(o.db,"users",e),i),{error:null}}catch(e){return{error:e instanceof Error?e.message:"Unknown error"}}},u=async()=>{try{if(!o.j2)return{success:!1,error:"Firebase auth is not initialized"};console.log("Creating admin user: admin@mirrorbeauty.com");let e=await (0,a.createUserWithEmailAndPassword)(o.j2,"admin@mirrorbeauty.com","admin123");return await (0,a.updateProfile)(e.user,{displayName:"Admin User"}),await c(e.user.uid,"admin@mirrorbeauty.com","admin","Admin User"),console.log("Admin user created successfully"),{success:!0,error:null}}catch(e){return console.error("Error creating admin user:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},l=async(e,r,a,n)=>{try{if(console.log("Creating new user:",e),!(null===o.j2||void 0===o.j2?void 0:o.j2.currentUser))return{success:!1,error:"No authenticated user found"};let{initializeApp:i}=await Promise.resolve().then(t.bind(t,3915)),{getAuth:s,createUserWithEmailAndPassword:u,updateProfile:l,signOut:d}=await Promise.resolve().then(t.bind(t,4903)),f=i({apiKey:"AIzaSyBYQA66rKOPrb4kce-hYCTYAbGKanVGbZ8",authDomain:"mirrorsbeautylounge-7c5ff.firebaseapp.com",projectId:"mirrorsbeautylounge-7c5ff",storageBucket:"mirrorsbeautylounge-7c5ff.firebasestorage.app",messagingSenderId:"1029530532506",appId:"1:1029530532506:web:2fa18cc521b2524e5afd23",measurementId:"G-GMWQSDP9JW"},"secondary"),y=s(f),h=await u(y,e,r);a&&await l(h.user,{displayName:a}),await c(h.user.uid,e,n,a),await d(y);try{"delete"in f&&"function"==typeof f.delete&&await f.delete()}catch(e){console.log("Secondary app cleanup not needed or failed:",e)}return console.log("New user created successfully without affecting current session"),{success:!0,error:null,user:h.user}}catch(e){return console.error("Error creating new user:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}},9946:(e,r,t)=>{t.d(r,{A:()=>c});var a=t(2115);let n=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},o=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:c,className:u="",children:l,iconNode:d,...f}=e;return(0,a.createElement)("svg",{ref:r,...i,width:n,height:n,stroke:t,strokeWidth:c?24*Number(s)/Number(n):s,className:o("lucide",u),...!l&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(f)&&{"aria-hidden":"true"},...f},[...d.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(l)?l:[l]])}),c=(e,r)=>{let t=(0,a.forwardRef)((t,i)=>{let{className:c,...u}=t;return(0,a.createElement)(s,{ref:i,iconNode:r,className:o("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),c),...u})});return t.displayName=n(e),t}}}]);