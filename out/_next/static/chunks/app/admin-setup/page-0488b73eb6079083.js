(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{1763:(e,r,t)=>{"use strict";t.d(r,{default:()=>i});var n=t(5155),a=t(2115),s=t(9323);function i(){let[e,r]=(0,a.useState)("idle"),[t,i]=(0,a.useState)(""),o=async()=>{r("creating"),i("Creating admin user...");try{let e=await (0,s.nW)();e.success?(r("success"),i("✅ Admin user created successfully! You can now sign in with admin@mirrorbeauty.com / admin123")):(r("error"),i("❌ Error: ".concat(e.error)))}catch(e){if(r("error"),e&&"object"==typeof e&&"code"in e&&"auth/email-already-in-use"===e.code)i("ℹ️ Admin user already exists with this email. You can sign in with admin@mirrorbeauty.com / admin123");else{let r=e instanceof Error?e.message:"Unknown error occurred";i("❌ Error: ".concat(r))}}};return(0,n.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white rounded-lg shadow-lg border border-gray-200",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Admin User Setup"}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Click the button below to create the admin user with the demo credentials:"}),(0,n.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Email: admin@mirrorbeauty.com"}),(0,n.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Password: admin123"})]})]}),(0,n.jsx)("button",{onClick:o,disabled:"creating"===e,className:"w-full bg-pink-500 hover:bg-pink-600 disabled:bg-gray-400 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"creating"===e?"Creating Admin User...":"Create Admin User"}),t&&(0,n.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm ".concat("success"===e?"bg-green-50 border border-green-200 text-green-800":"error"===e?"bg-red-50 border border-red-200 text-red-800":"bg-blue-50 border border-blue-200 text-blue-800"),children:t}),"success"===e&&(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)("a",{href:"/signin",className:"inline-block w-full text-center bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Go to Sign In Page"})})]})}},6104:(e,r,t)=>{"use strict";t.d(r,{Gg:()=>b,IG:()=>d,db:()=>l,j2:()=>m});var n=t(3915),a=t(1906),s=t(5317),i=t(7505),o=t(4903);let c={apiKey:"AIzaSyBYQA66rKOPrb4kce-hYCTYAbGKanVGbZ8",authDomain:"mirrorsbeautylounge-7c5ff.firebaseapp.com",projectId:"mirrorsbeautylounge-7c5ff",storageBucket:"mirrorsbeautylounge-7c5ff.firebasestorage.app",messagingSenderId:"1029530532506",appId:"1:1029530532506:web:2fa18cc521b2524e5afd23",measurementId:"G-GMWQSDP9JW"},u=null,l=null,d=null,m=null;function b(){return null!==u}!0;try{u=(0,n.initializeApp)(c),l=(0,s.aU)(u),d=(0,i.c7)(u),m=(0,o.getAuth)(u);try{(0,a.P5)(u)}catch(e){console.warn("Firebase Analytics initialization failed:",e)}}catch(e){console.error("Firebase initialization failed:",e),m=null}},9323:(e,r,t)=>{"use strict";t.d(r,{eg:()=>i,ej:()=>o,nW:()=>u,yN:()=>l});var n=t(4903),a=t(5317),s=t(6104);let i=async e=>{try{if(!s.j2)return{error:"Firebase auth is not initialized"};if(s.j2.currentUser){if(await (0,n.updateProfile)(s.j2.currentUser,{displayName:e}),!s.db)throw Error("Firestore is not initialized");let r=(0,a.H9)(s.db,"users",s.j2.currentUser.uid);await (0,a.mZ)(r,{displayName:e,updatedAt:new Date})}return{error:null}}catch(e){return console.error("Error updating profile:",e),{error:e instanceof Error?e.message:"Unknown error"}}},o=async e=>{try{if(!s.j2)return{error:"Firebase auth is not initialized"};return s.j2.currentUser&&await (0,n.f3)(s.j2.currentUser,e),{error:null}}catch(e){return console.error("Error updating password:",e),{error:e instanceof Error?e.message:"Unknown error"}}},c=async(e,r,t,n)=>{try{let i={uid:e,email:r,displayName:n,role:t,createdAt:new Date,updatedAt:new Date};if(!s.db)throw Error("Firestore is not initialized");return await (0,a.BN)((0,a.H9)(s.db,"users",e),i),{error:null}}catch(e){return{error:e instanceof Error?e.message:"Unknown error"}}},u=async()=>{try{if(!s.j2)return{success:!1,error:"Firebase auth is not initialized"};console.log("Creating admin user: admin@mirrorbeauty.com");let e=await (0,n.createUserWithEmailAndPassword)(s.j2,"admin@mirrorbeauty.com","admin123");return await (0,n.updateProfile)(e.user,{displayName:"Admin User"}),await c(e.user.uid,"admin@mirrorbeauty.com","admin","Admin User"),console.log("Admin user created successfully"),{success:!0,error:null}}catch(e){return console.error("Error creating admin user:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},l=async(e,r,n,a)=>{try{if(console.log("Creating new user:",e),!(null===s.j2||void 0===s.j2?void 0:s.j2.currentUser))return{success:!1,error:"No authenticated user found"};let{initializeApp:i}=await Promise.resolve().then(t.bind(t,3915)),{getAuth:o,createUserWithEmailAndPassword:u,updateProfile:l,signOut:d}=await Promise.resolve().then(t.bind(t,4903)),m=i({apiKey:"AIzaSyBYQA66rKOPrb4kce-hYCTYAbGKanVGbZ8",authDomain:"mirrorsbeautylounge-7c5ff.firebaseapp.com",projectId:"mirrorsbeautylounge-7c5ff",storageBucket:"mirrorsbeautylounge-7c5ff.firebasestorage.app",messagingSenderId:"1029530532506",appId:"1:1029530532506:web:2fa18cc521b2524e5afd23",measurementId:"G-GMWQSDP9JW"},"secondary"),b=o(m),g=await u(b,e,r);n&&await l(g.user,{displayName:n}),await c(g.user.uid,e,a,n),await d(b);try{"delete"in m&&"function"==typeof m.delete&&await m.delete()}catch(e){console.log("Secondary app cleanup not needed or failed:",e)}return console.log("New user created successfully without affecting current session"),{success:!0,error:null,user:g.user}}catch(e){return console.error("Error creating new user:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}},9400:(e,r,t)=>{Promise.resolve().then(t.bind(t,1763))}},e=>{e.O(0,[135,210,748,441,964,358],()=>e(e.s=9400)),_N_E=e.O()}]);