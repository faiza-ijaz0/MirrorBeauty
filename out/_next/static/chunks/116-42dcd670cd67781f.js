"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{3116:(r,e,t)=>{t.d(e,{Ah:()=>c,CX:()=>I,Gz:()=>H,K7:()=>l,SN:()=>v,Ub:()=>E,VW:()=>P,YF:()=>n,Zn:()=>G,_i:()=>S,bU:()=>h,bm:()=>m,fl:()=>A,h1:()=>g,hs:()=>f,je:()=>b,kQ:()=>k,n$:()=>F,pv:()=>w,st:()=>d,w4:()=>s,ys:()=>p});var a=t(5317),o=t(6104);let i=null;(0,o.Gg)()&&o.db&&(i=(0,a.rJ)(o.db,"categories"));let n=r=>new Promise((e,t)=>{let a=new FileReader;a.onload=()=>{a.result?e(a.result):t(Error("Failed to convert file to base64"))},a.onerror=()=>t(Error("Error reading file")),a.readAsDataURL(r)}),s=function(r){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;return new Promise((a,o)=>{let i=document.createElement("canvas"),n=i.getContext("2d"),s=new Image;s.onload=()=>{let r=Math.min(e/s.width,e/s.height);i.width=s.width*r,i.height=s.height*r,null==n||n.drawImage(s,0,0,i.width,i.height),a(i.toDataURL("image/jpeg",t))},s.onerror=()=>o(Error("Error loading image")),s.src=URL.createObjectURL(r)})},c=async r=>{try{if(!(0,o.Gg)()||!o.db||!i)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");return(await (0,a.gS)(i,{...r,createdAt:a.Dc.now(),updatedAt:a.Dc.now()})).id}catch(r){throw console.error("Error adding category:",r),r}},d=async(r,e)=>{try{if(!(0,o.Gg)()||!o.db)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");let t=(0,a.H9)(o.db,"categories",r);await (0,a.mZ)(t,{...e,updatedAt:a.Dc.now()})}catch(r){throw console.error("Error updating category:",r),r}},l=async r=>{try{if(!(0,o.Gg)()||!o.db)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");let e=(0,a.H9)(o.db,"categories",r);await (0,a.kd)(e)}catch(r){throw console.error("Error deleting category:",r),r}},b=(r,e)=>{if(!(0,o.Gg)()||!o.db||!i)return console.warn("Firebase is not configured, skipping categories subscription"),()=>{};let t=(0,a.P)(i,(0,a.My)("createdAt","desc"));return(0,a.aQ)(t,e=>{let t=[];e.forEach(r=>{t.push({id:r.id,...r.data()})}),r(t)},r=>{console.error("Error listening to categories:",r),e&&e(r)})},u=null;(0,o.Gg)()&&o.db&&(u=(0,a.rJ)(o.db,"services"));let g=async r=>{try{if(!(0,o.Gg)()||!o.db||!u)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");return(await (0,a.gS)(u,{...r,createdAt:a.Dc.now(),updatedAt:a.Dc.now()})).id}catch(r){throw console.error("Error adding service:",r),r}},h=async(r,e)=>{try{if(!(0,o.Gg)()||!o.db)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");let t=(0,a.H9)(o.db,"services",r);await (0,a.mZ)(t,{...e,updatedAt:a.Dc.now()})}catch(r){throw console.error("Error updating service:",r),r}},f=async r=>{try{if(!(0,o.Gg)()||!o.db)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");let e=(0,a.H9)(o.db,"services",r);await (0,a.kd)(e)}catch(r){throw console.error("Error deleting service:",r),r}},w=(r,e)=>{if(!(0,o.Gg)()||!o.db||!u)return console.warn("Firebase is not configured, skipping services subscription"),()=>{};let t=(0,a.P)(u,(0,a.My)("createdAt","desc"));return(0,a.aQ)(t,e=>{let t=[];e.forEach(r=>{t.push({id:r.id,...r.data()})}),r(t)},r=>{console.error("Error listening to services:",r),e&&e(r)})},y=null;(0,o.Gg)()&&o.db&&(y=(0,a.rJ)(o.db,"branches"));let p=async r=>{try{if(!(0,o.Gg)()||!o.db||!y)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");return(await (0,a.gS)(y,{...r,createdAt:a.Dc.now(),updatedAt:a.Dc.now()})).id}catch(r){throw console.error("Error adding branch:",r),r}},E=async(r,e)=>{try{if(!(0,o.Gg)()||!o.db)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");let t=(0,a.H9)(o.db,"branches",r);await (0,a.mZ)(t,{...e,updatedAt:a.Dc.now()})}catch(r){throw console.error("Error updating branch:",r),r}},v=async r=>{try{if(!(0,o.Gg)()||!o.db)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");let e=(0,a.H9)(o.db,"branches",r);await (0,a.kd)(e)}catch(r){throw console.error("Error deleting branch:",r),r}},m=(r,e)=>{if(!(0,o.Gg)()||!o.db||!y)return console.warn("Firebase is not configured, skipping branches subscription"),()=>{};let t=(0,a.P)(y,(0,a.My)("createdAt","desc"));return(0,a.aQ)(t,e=>{let t=[];e.forEach(r=>{t.push({id:r.id,...r.data()})}),r(t)},r=>{console.error("Error listening to branches:",r),e&&e(r)})},F=async r=>(await (0,a.gS)((0,a.rJ)(o.db,"referrals"),{...r,createdAt:a.Dc.now(),updatedAt:a.Dc.now()})).id,A=async(r,e)=>{let t=(0,a.H9)(o.db,"referrals",r);await (0,a.mZ)(t,{...e,updatedAt:a.Dc.now()})},G=async r=>{await (0,a.kd)((0,a.H9)(o.db,"referrals",r))},P=r=>{let e=(0,a.P)((0,a.rJ)(o.db,"referrals"),(0,a.My)("createdAt","desc"));return(0,a.aQ)(e,e=>{r(e.docs.map(r=>({id:r.id,...r.data()})))})},D=null;(0,o.Gg)()&&o.db&&(D=(0,a.rJ)(o.db,"offers"));let k=async r=>{try{if(!(0,o.Gg)()||!o.db||!D)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");return(await (0,a.gS)(D,{...r,createdAt:a.Dc.now(),updatedAt:a.Dc.now()})).id}catch(r){throw console.error("Error adding offer:",r),r}},H=async(r,e)=>{try{if(!(0,o.Gg)()||!o.db)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");let t=(0,a.H9)(o.db,"offers",r);await (0,a.mZ)(t,{...e,updatedAt:a.Dc.now()})}catch(r){throw console.error("Error updating offer:",r),r}},S=async r=>{try{if(!(0,o.Gg)()||!o.db)throw Error("Firebase is not configured. Please set up your Firebase environment variables.");let e=(0,a.H9)(o.db,"offers",r);await (0,a.kd)(e)}catch(r){throw console.error("Error deleting offer:",r),r}},I=(r,e)=>{let t=(0,a.P)(D,(0,a.My)("createdAt","desc"));return(0,a.aQ)(t,e=>{let t=[];e.forEach(r=>{t.push({id:r.id,...r.data()})}),r(t)},r=>{console.error("Error listening to offers:",r),e&&e(r)})}},6104:(r,e,t)=>{t.d(e,{Gg:()=>g,IG:()=>b,db:()=>l,j2:()=>u});var a=t(3915),o=t(1906),i=t(5317),n=t(7505),s=t(4903);let c={apiKey:"AIzaSyBYQA66rKOPrb4kce-hYCTYAbGKanVGbZ8",authDomain:"mirrorsbeautylounge-7c5ff.firebaseapp.com",projectId:"mirrorsbeautylounge-7c5ff",storageBucket:"mirrorsbeautylounge-7c5ff.firebasestorage.app",messagingSenderId:"1029530532506",appId:"1:1029530532506:web:2fa18cc521b2524e5afd23",measurementId:"G-GMWQSDP9JW"},d=null,l=null,b=null,u=null;function g(){return null!==d}!0;try{d=(0,a.initializeApp)(c),l=(0,i.aU)(d),b=(0,n.c7)(d),u=(0,s.getAuth)(d);try{(0,o.P5)(d)}catch(r){console.warn("Firebase Analytics initialization failed:",r)}}catch(r){console.error("Firebase initialization failed:",r),u=null}}}]);